<h2 mat-dialog-title>
  Pedido #{{ data.order.idOrder }}
  <small style="display:block; font-size: 0.9rem; color: #666; margin-top: 4px;">
    Mesa {{ data.order.deskNumber }}
  </small>
</h2>

<mat-dialog-content>
  
  <div *ngIf="loading" class="loading-state">
    <p>Carregando itens...</p>
  </div>

  <mat-list *ngIf="!loading">
    
    <div *ngFor="let item of items">
      <mat-list-item class="item-row">
        <mat-icon matListItemIcon>restaurant</mat-icon>
        
        <div matListItemTitle class="item-title">
          <span class="amount">{{ item.amount }}x</span>
          <span class="name">{{ item.name }}</span>
        </div>
        
        <div matListItemLine *ngIf="item.observation" class="item-obs">
          ⚠️ {{ item.observation }}
        </div>

        <div matListItemLine *ngIf="item.custom" class="item-custom">
          <span *ngFor="let key of getCustomKeys(item.custom)">
            • {{ key }}: {{ item.custom[key] }}
          </span>
        </div>
      </mat-list-item>
      <mat-divider></mat-divider>
    </div>

  </mat-list>

  <div *ngIf="!loading && items.length === 0" style="text-align:center; padding: 20px;">
    Nenhum item encontrado neste pedido.
  </div>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-raised-button color="primary" mat-dialog-close>Fechar</button>
</mat-dialog-actions>